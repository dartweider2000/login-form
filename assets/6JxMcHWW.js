import{u as T,_ as k,a as C,b as S}from"./B9oSj2nK.js";import{_ as B,a as F,b as N}from"./C1qmK9CQ.js";import{n as q,s as A,q as L,r as f,g as R,u as D,w as e,v as E,o as $,a as u,x as o,d as l,b as a,y as h,p as z,e as H,_ as O}from"./p5JiRb0g.js";import{u as P}from"./DSxK9u-P.js";import"./CYKGVqpH.js";const W=""+new URL("login-image.CO0zUFxW.svg",import.meta.url).href,j=r=>(z("data-v-44d4c370"),r=r(),H(),r),G=["src"],J={class:"form-header"},K=j(()=>u("div",{class:"form-header__separator"},[u("span",null,"with email")],-1)),M=q({__name:"index",setup(r){const{username:t,password:s}=A(T()),{auth:b}=P(),w=L(()=>!(t.value&&s.value)),v=f("login"),m=f(""),_=f(!1);R([t,s],()=>{m.value=""});const y=async()=>{var i;const x=(i=document.forms.namedItem(v.value))==null?void 0:i.elements,{username:n,password:c}=x;if(n.checkValidity(),c.checkValidity()){const d={password:c.value,username:t.value};try{_.value=!0,await b.login(d)}catch{m.value="Такого пользователя нет"}finally{_.value=!1}}};return(x,n)=>{const c=k,i=B,d=F,g=C,V=N,I=S,U=E;return $(),D(U,{name:"default"},{image:e(()=>[u("img",{src:o(W),alt:"login content image"},null,8,G)]),captionTitle:e(()=>[l(" Connect with any device. ")]),captionDescription:e(()=>[l(" Everything you need is an internet connection. ")]),form:e(()=>[a(I,{name:o(v),error:o(m)},{header:e(()=>[u("div",J,[a(c,{class:"form-header__title"},{default:e(()=>[l("Login to your Account")]),_:1}),K])]),body:e(()=>[a(i,{modelValue:o(t),"onUpdate:modelValue":n[0]||(n[0]=p=>h(t)?t.value=p:null),tabindex:1,autofocus:!0,required:!0},null,8,["modelValue"]),a(d,{modelValue:o(s),"onUpdate:modelValue":n[1]||(n[1]=p=>h(s)?s.value=p:null),tabindex:2,required:!0},null,8,["modelValue"])]),button:e(()=>[a(g,{tabindex:"3",disabled:o(w)||o(_),onAction:y},{default:e(()=>[l("Log in")]),_:1},8,["disabled"])]),caption:e(()=>[a(V,{description:"Don’t have account?",linkText:"Create an account",linkUrl:"/registration",tabindex:4})]),_:1},8,["name","error"])]),_:1})}}}),oe=O(M,[["__scopeId","data-v-44d4c370"]]);export{oe as default};
